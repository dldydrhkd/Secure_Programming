# Stegano Graphy

### 개요

  * 목표 : 24비트 비트맵(.bmp) 이미지에 대해 텍스트를 숨기는 steganography 프로그램 구현
  
  * 요구사항
   
    - 입력 이미지 파일 경로 : "origin.bmp"
   
    - 출력 이미지 파일 경로 : "stego.bmp"
    
    - 프로그램 실행 파일 옵션 : "e" 또는 "d"
    
    - “e” 옵션일 경우 한 줄의 표준 입력을 받아 stego.bmp 파일을 만든다
    
    - “d” 옵션일 경우 stego.bmp 파일을 decode 하여 내용 출력
    
    - 육안으로 원본파일과 차이가 나지 않아야 한다.
    
    - 개발환경 : mac환경에서 cpp(c++11)파일로 작성
 
### 필요한 자료구조 및 기능

  * 필요한 자료구조
   
    - Bitmap 파일 헤더 구조체 : bitmap의 헤더를 담은 구조체
   
    - Bitmap 정보 헤더 구조체 : bitmap의 정보를 담은 구조체
   
    - padding: 컴퓨터는 4바이트 씩 데이터를 저장하기 때문에 남는 비트가 있을 경우 0으로 채운다
               한 픽셀은 3바이트이므로 (4-((width*3)%4))%4 로 패딩을 계산 할 수 있다.
 
### 기능별 알고리즘 명세

  * 데이터 숨기기
   
    - teganography는 대부분 앞, 뒤, 헤더에 데이터를 숨긴다고 한다. 
   
      이렇게 숨길 경우 이미지에서는 모르지만 binary 파일로 열었을 때 한눈에 볼 수 있다는 단점이 있다. 
     
      그러므로 index를 계산하여 17의 배수일경우 데이터를 바꿔 숨겼다.
      
    - 인코딩
    
      + bitmap은 위 아래가 바뀌어 데이터가 저장되기 때문에 height-1부터 시작하였다.
      
      + index를 계산하였고 해당 index가 17의 배수일 경우에 입력 받은 문자를 하나씩 넣었다.
     
      + 마지막에 null 문자를 넣어 문자열의 끝임을 알 수 있도록 저장하였다.
    
    - 디코딩
    
      + 인코딩과 같은 방법으로 heigth-1부터 시작하여 index를 계산 후 17의 배수일 경우 출력을 하였다.
      
      + null 문자가 나올 때 까지 출력을 하였다.
      
### 인터페이스 및 사용법

  * 사용법 : 프로그램을 실행 시키고 “e” 또는 “d” 옵션을 입력 한다. “e”를 입력했을 경우 숨기고 싶은 문자열을 한 줄로 입력한다. “d” 를 입력했을            경우 출력을 기다린다.

### 평가 및 개선 방향
  
  * 본 결과의 단점 : 문자를 600문자까지로 한계를 정했으며 그 이상이 들어올 경우 이미지가 변질 되어 보일수도 있을거 같다.
          

 
